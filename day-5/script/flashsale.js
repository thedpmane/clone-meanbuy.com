let mydata=[{imgurl:"https://dbnzj30o7hucx.cloudfront.net/eyJidWNrZXQiOiJtZWFuYnV5LWltYWdlcyIsImtleSI6IjMxMTQ0XC9XaGl0ZV9uXzFfMS5qcGciLCJlZGl0cyI6eyJyZXNpemUiOnsid2lkdGgiOjMyMCwiaGVpZ2h0IjozMjAsImZpdCI6ImNvbnRhaW4iLCJiYWNrZ3JvdW5kIjp7InIiOjI1NSwiZyI6MjU1LCJiIjoyNTUsImFscGhhIjoxfX19fQ==",
    
name:"Xiaomi Mi LED Desk Lamp Pro",
price:19999,
    tag: "FREE SHIPPING",
brand:"Xiaomi"

},{imgurl:"https://dbnzj30o7hucx.cloudfront.net/eyJidWNrZXQiOiJtZWFuYnV5LWltYWdlcyIsImtleSI6IjMxMTM5XC9XaGl0ZV9uXzFfMS5qcGciLCJlZGl0cyI6eyJyZXNpemUiOnsid2lkdGgiOjMyMCwiaGVpZ2h0IjozMjAsImZpdCI6ImNvbnRhaW4iLCJiYWNrZ3JvdW5kIjp7InIiOjI1NSwiZyI6MjU1LCJiIjoyNTUsImFscGhhIjoxfX19fQ==",

name:"Xiaomi Mi smart Door",
price:6999,
tag:"FREE SHIPPING",
brand:"Xiaomi"
},

{imgurl:"https://dbnzj30o7hucx.cloudfront.net/eyJidWNrZXQiOiJtZWFuYnV5LWltYWdlcyIsImtleSI6IjIzODE0XC9SZWRfbl8xX01lYW5idXkxLmpwZyIsImVkaXRzIjp7InJlc2l6ZSI6eyJ3aWR0aCI6MzIwLCJoZWlnaHQiOjMyMCwiZml0IjoiY29udGFpbiIsImJhY2tncm91bmQiOnsiciI6MjU1LCJnIjoyNTUsImIiOjI1NSwiYWxwaGEiOjF9fX19",

name:"Tortila Press",
price:9999,
tag:"FREE SHIPPING"

},

{imgurl:"https://dbnzj30o7hucx.cloudfront.net/eyJidWNrZXQiOiJtZWFuYnV5LWltYWdlcyIsImtleSI6IjI3MzMwXC9CbGFja19uXzFfMS5qcGciLCJlZGl0cyI6eyJyZXNpemUiOnsid2lkdGgiOjMyMCwiaGVpZ2h0IjozMjAsImZpdCI6ImNvbnRhaW4iLCJiYWNrZ3JvdW5kIjp7InIiOjI1NSwiZyI6MjU1LCJiIjoyNTUsImFscGhhIjoxfX19fQ==",

name:"AWEI T26 Wireless Earphone",
price:5999,
tag:"FREE SHIPPING"

    },
    {imgurl:"https://dbnzj30o7hucx.cloudfront.net/eyJidWNrZXQiOiJtZWFuYnV5LWltYWdlcyIsImtleSI6IjMzMjkyXC9SZWRfbl8xXzEuanBnIiwiZWRpdHMiOnsicmVzaXplIjp7IndpZHRoIjozMjAsImhlaWdodCI6MzIwLCJmaXQiOiJjb250YWluIiwiYmFja2dyb3VuZCI6eyJyIjoyNTUsImciOjI1NSwiYiI6MjU1LCJhbHBoYSI6MX19fX0=",

    name:"SpoiderMon ",
    price:999,
    tag:"FREE SHIPPING"
    
    },
    {imgurl:"https://dbnzj30o7hucx.cloudfront.net/eyJidWNrZXQiOiJtZWFuYnV5LWltYWdlcyIsImtleSI6IjMyOTQyXC9Hb2xkX25fMV8xLmpwZyIsImVkaXRzIjp7InJlc2l6ZSI6eyJ3aWR0aCI6MzIwLCJoZWlnaHQiOjMyMCwiZml0IjoiY29udGFpbiIsImJhY2tncm91bmQiOnsiciI6MjU1LCJnIjoyNTUsImIiOjI1NSwiYWxwaGEiOjF9fX19",

    name:"Petal Bracelet",
    price:150,
    tag:"FREE SHIPPING"
    
    },
    {imgurl:"https://dbnzj30o7hucx.cloudfront.net/eyJidWNrZXQiOiJtZWFuYnV5LWltYWdlcyIsImtleSI6IjMyNjQxXC9CbGFja19uXzFfMS5qcGciLCJlZGl0cyI6eyJyZXNpemUiOnsid2lkdGgiOjMyMCwiaGVpZ2h0IjozMjAsImZpdCI6ImNvbnRhaW4iLCJiYWNrZ3JvdW5kIjp7InIiOjI1NSwiZyI6MjU1LCJiIjoyNTUsImFscGhhIjoxfX19fQ==",

    name:"JCB",
    price:500,
    tag:"FREE SHIPPING"
    
    },
    {imgurl:"https://dbnzj30o7hucx.cloudfront.net/eyJidWNrZXQiOiJtZWFuYnV5LWltYWdlcyIsImtleSI6IjMyMzg4XC9CbGFja19uXzFfMS5qcGciLCJlZGl0cyI6eyJyZXNpemUiOnsid2lkdGgiOjMyMCwiaGVpZ2h0IjozMjAsImZpdCI6ImNvbnRhaW4iLCJiYWNrZ3JvdW5kIjp7InIiOjI1NSwiZyI6MjU1LCJiIjoyNTUsImFscGhhIjoxfX19fQ==",

    name:"Watch Tower",
    price:2223,
    tag:"FREE SHIPPING"
    
    },
    {imgurl:"https://dbnzj30o7hucx.cloudfront.net/eyJidWNrZXQiOiJtZWFuYnV5LWltYWdlcyIsImtleSI6IjMxOTA2XC9CbGFja19uXzFfMS5qcGciLCJlZGl0cyI6eyJyZXNpemUiOnsid2lkdGgiOjMyMCwiaGVpZ2h0IjozMjAsImZpdCI6ImNvbnRhaW4iLCJiYWNrZ3JvdW5kIjp7InIiOjI1NSwiZyI6MjU1LCJiIjoyNTUsImFscGhhIjoxfX19fQ==",

    name:"Phonetele",
    price:499,
    tag:"FREE SHIPPING"
    
    },
    {imgurl:"https://dbnzj30o7hucx.cloudfront.net/eyJidWNrZXQiOiJtZWFuYnV5LWltYWdlcyIsImtleSI6IjI3MzUyXC9CbGFja19uXzFfMS5qcGciLCJlZGl0cyI6eyJyZXNpemUiOnsid2lkdGgiOjMyMCwiaGVpZ2h0IjozMjAsImZpdCI6ImNvbnRhaW4iLCJiYWNrZ3JvdW5kIjp7InIiOjI1NSwiZyI6MjU1LCJiIjoyNTUsImFscGhhIjoxfX19fQ==",

    name:"Display watch",
    price:2999,
    tag:"FREE SHIPPING"
    
    },
    {imgurl:"https://dbnzj30o7hucx.cloudfront.net/eyJidWNrZXQiOiJtZWFuYnV5LWltYWdlcyIsImtleSI6IjIzOTk5XC9SZWRfbl8xX0JsdWV0b290aFNwZWFrZXIxLmpwZyIsImVkaXRzIjp7InJlc2l6ZSI6eyJ3aWR0aCI6MzIwLCJoZWlnaHQiOjMyMCwiZml0IjoiY29udGFpbiIsImJhY2tncm91bmQiOnsiciI6MjU1LCJnIjoyNTUsImIiOjI1NSwiYWxwaGEiOjF9fX19",

    name:"Ironmane",
    price:900,
    tag:"FREE SHIPPING"
    
    },
    {imgurl:"https://dbnzj30o7hucx.cloudfront.net/eyJidWNrZXQiOiJtZWFuYnV5LWltYWdlcyIsImtleSI6IjI0MzkyXC9CbGFja19uXzFfV2lyZWxlc3NLZXlib2FyZDEuanBnIiwiZWRpdHMiOnsicmVzaXplIjp7IndpZHRoIjozMjAsImhlaWdodCI6MzIwLCJmaXQiOiJjb250YWluIiwiYmFja2dyb3VuZCI6eyJyIjoyNTUsImciOjI1NSwiYiI6MjU1LCJhbHBoYSI6MX19fX0=",

    name:"Keyboard",
    price:200,
    tag:"FREE SHIPPING"
    
    },
    {imgurl:"https://dbnzj30o7hucx.cloudfront.net/eyJidWNrZXQiOiJtZWFuYnV5LWltYWdlcyIsImtleSI6IjIwMDMyXC9CbGFja19uXzFfMS5qcGciLCJlZGl0cyI6eyJyZXNpemUiOnsid2lkdGgiOjMyMCwiaGVpZ2h0IjozMjAsImZpdCI6ImNvbnRhaW4iLCJiYWNrZ3JvdW5kIjp7InIiOjI1NSwiZyI6MjU1LCJiIjoyNTUsImFscGhhIjoxfX19fQ==",

    name:"Case for MYPHONE 1",
    price:399,
    tag:"FREE SHIPPING"
    
    },
    {imgurl:"https://dbnzj30o7hucx.cloudfront.net/eyJidWNrZXQiOiJtZWFuYnV5LWltYWdlcyIsImtleSI6IjE4OTk0XC9TaWx2ZXJfbl8xXzEuanBnIiwiZWRpdHMiOnsicmVzaXplIjp7IndpZHRoIjozMjAsImhlaWdodCI6MzIwLCJmaXQiOiJjb250YWluIiwiYmFja2dyb3VuZCI6eyJyIjoyNTUsImciOjI1NSwiYiI6MjU1LCJhbHBoYSI6MX19fX0=",

    name:"Smart Lock",
    price:3999,
    tag:"FREE SHIPPING"
    
    }]

   
    localStorage.setItem("datas", JSON.stringify(mydata))
let lsd = JSON.parse(localStorage.getItem("datas")) || [];
 
function display(data) {
    document.querySelector("#productcontainer").innerHTML = null;
    mydata.map(function (el) {
        let box = document.createElement("div");

        let productimg = document.createElement("img");
        productimg.setAttribute("src", el.imgurl);

        let productname = document.createElement("p");
        productname = el.name;


        let box2 = document.createElement("div");
    
    
        box2.setAttribute("id", "space");
        let box2_1 = document.createElement("div");
        let productprice = document.createElement("p");
        productprice = "â‚¹"+el.price;
        box2_1.append(productprice)

    
        let box2_2 = document.createElement("div");
        let productship = document.createElement("p");
    

        productship.setAttribute("class", "lastp");
        productship = el.tag;
        box2_2.append(productship)
    
        box.append(productimg, productname, box2)

        box2.append(box2_1, box2_2)

    
        box.addEventListener("click", function () {
       
            let ls = JSON.parse(localStorage.getItem("prodata")) || [];
       
            ls = new Array(0)
            window.location.href="productpage.html"
      
            ls.push(el)
            localStorage.setItem("prodata", JSON.stringify(ls))
     
        })
        document.querySelector("#productcontainer").append(box);
    });
}

display(lsd);
document.getElementById("filtarname").addEventListener("change",sortname)

function sortname(){
    let selcted = document.querySelector("#filtarname").value

    if(selcted==="A to Z") {
        mydata.sort(function (a,b) {
            
            if (a.name > b.name) return 1;
            if(a.name < b.name) return -1;
            return 0;
         
        });
        
        // localStorage.setItem("atoz", JSON.stringify(lsd));
        // let odn = JSON.parse(localStorage.getItem("atoz")) || [];
        // Display(odn);
        display(lsd)
        
    }else if(selcted==="Z to A") {       
        mydata.sort(function (a, b) {
           
            if (a.name > b.name) return -1;
            if(a.name < b.name) return 1;
            return 0;
           
        });
        console.log(mydata)
        display(lsd);
    }   

}
let filter2=document.getElementById("filtarprice")
filter2.addEventListener("change",sortname1)
function sortname1(){
    let selcted = document.querySelector("#filtarprice").value
    
    if(selcted==="Low to High") {
        mydata.sort(function (a,b) {
            
            if(a.price > b.price) return 1;
            if (a.price < b.price) return -1;
            return 0;
        });
        // console.log(lsd);
        display(lsd);
    }else if(selcted==="High to low") {       
        mydata.sort(function (a, b) {
            
            if(a.price > b.price) return -1;
            if (a.price < b.price) return 1;
            return 0;
           
        });
        // console.log(lsd)
        display(lsd);
    }   

}



let filter3=document.getElementById("filtarbrand")
filter3.addEventListener("change",sortname2)
function sortname2(){
    let selcted = document.querySelector("#filtarbrand").value
    
    if(selcted==="Xiaomi") {
        
        const result = mydata.filter(check);
        
        function check(selcted) {
          return selcted == mydata.brand;
        }
    }  
display(lsd)
}





document.getElementById("clickcart").addEventListener("click", function () {
    window.location.href = "cartpage.html"
});
  

